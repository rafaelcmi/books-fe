<div>
  <h2>Cadastro de Livro</h2>

  <form [formGroup]="livroForm" (ngSubmit)="cadastrarLivro()">
    <label for="titulo">Título:</label>
    <input type="text" id="titulo" formControlName="titulo" required>

    <label for="editora">Editora:</label>
    <input type="text" id="editora" formControlName="editora" required>


    <div formArrayName="autor">
      <div *ngFor="let autor of autores?.controls; let i = index">
        <label for="codigoAutor">Código do Autor:</label>
        <input type="number" [formControl]="autor.value['codigo']" id="codigoAutor" required>

        <label for="nomeAutor">Nome do Autor:</label>
        <input type="text" [formControl]="autor.value['nome']" id="nomeAutor" required>

        <button type="button" (click)="removerAutor(i)">Remover Autor</button>
      </div>
      <button type="button" (click)="adicionarAutor()">Adicionar Autor</button>
    </div>

    <div formArrayName="assuntos">
      <div *ngFor="let assunto of assuntos?.controls; let i = index">
        <label for="codigoAssunto">Código do Assunto:</label>
        <input type="number" [formControl]="assunto.value['codigo']" id="codigoAssunto" required>

        <label for="descricaoAssunto">Descrição do Assunto:</label>
        <input type="text" [formControl]="assunto.value['descricao']" id="descricaoAssunto" required>

        <button type="button" (click)="removerAssunto(i)">Remover Assunto</button>
      </div>
      <button type="button" (click)="adicionarAssunto()">Adicionar Assunto</button>
    </div>

    <button type="submit">Cadastrar Livro</button>
  </form>
</div>
